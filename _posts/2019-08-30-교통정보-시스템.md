---
title: "교통량"
categories: 
  - 인프라 - 교통
tags:
  - 교통량
last_modified_at: 2019-08-30T17:57:00+09:00
toc: true
toc_sticky: true
permalink : /infra/topis/
---

서울시 교통정보 시스템(TOPIS)에서 제공하는 교통량 데이터 조사 내용

## 서울시 교통정보 시스템 개요

  - 사이트 : [서울시 교통정보 시스템 -
    TOPIS](http://topis.seoul.go.kr/refRoom/openRefRoom_1.do)
  - 라이선스 : 저작권자표시(BY) (이용이나 변경 및 2차적 저작물의 작성을 포함한 자유이용을 허락)
  - 데이터 공개/접근 여부 : 공개
  - 비용 : 무료

## 교통량

[교통량 데이터 다운 사이트](http://topis.seoul.go.kr/refRoom/openRefRoom_2_2.do){:
.btn .btn–info}

### 데이터 설명

  - 변수 설명

|  구분  |           설명           |    표현 예시    |         예시 설명         |
| :--: | :--------------------: | :---------: | :-------------------: |
|  일자  |       교통량 조사 일자        |  20181201   |     2018년 12월 01일     |
|  요일  |       교통량 조사 요일        |      토      |          토요일          |
| 지점명  |   교통량 조사 도로명(조사지점명)    |  성산로(금화터널)  |    조사지점의 도로명(지점명)     |
| 지점번호 |  조사지점 영역구분기호와 일련번호\*   |    A-01     |       도심 1번 지점        |
|  방향  | 서울시청 중심으로 유입/유출 구분\*\* |    유입/유출    |          \-           |
|  구분  | 조사지점에서 가까운 교차로명으로 방향표시 | 봉원고가차도→독립문역 | 봉원고가차도에서 독립문역 방향의 교통량 |
| 시간대  |       1시간 단위를 표시       |     0시      |        0시\~1시         |
| 교통량  |        1시간 교통량         |     809     |        809대/시         |

\* 조사지점을 5개 영역(A,B,C,D,F)으로 구분하고 일련번호를 부여함- A(도심), B(시계), C(교량),
D(간선도로), F(도시고속도로) <br> \*\* 유입 : 외곽에서 서울시청으로 들어오는 방향 / 유출 :
시울시청에서 외곽으로 나가는 방향터

  - 업데이트 주기 : 매월
  - 파일 형식 : `.xlsx` 확장자 파일
  - 데이터 수집범위 : 서울시 내 주요간선도로 및 도시고속도로

|  구분  |      |
| :--: | :--: |
|  도심  | 24개소 |
|  시계  | 36개소 |
|  교량  | 22개소 |
|  간선  | 54개소 |
| 도시고속 | 9개소  |

### 데이터 구조

`2019년 6월 교통량 조사자료` 파일 이용

``` r
traffic <- read_xlsx("data/TOPIS/6월 서울시 교통량 조사자료.xlsx", col_names=TRUE, sheet="2019년 6월")
traffic$일자 = traffic$일자 %>%  # 데이터 타입 변환
  as.character() %>% 
  as.Date(format="%Y%m%d")
traffic$요일 = as.factor(traffic$요일)
traffic$지점번호 = as.factor(traffic$지점번호)
traffic$방향 = as.factor(traffic$방향)

str(traffic)
```

    ## Classes 'tbl_df', 'tbl' and 'data.frame':    8100 obs. of  30 variables:
    ##  $ 일자    : Date, format: "2019-06-01" "2019-06-02" ...
    ##  $ 요일    : Factor w/ 7 levels "금","목","수",..: 6 5 4 7 3 2 1 6 5 4 ...
    ##  $ 지점명  : chr  "성산로(금화터널)" "성산로(금화터널)" "성산로(금화터널)" "성산로(금화터널)" ...
    ##  $ 지점번호: Factor w/ 135 levels "A-01","A-02",..: 1 1 1 1 1 1 1 1 1 1 ...
    ##  $ 방향    : Factor w/ 2 levels "유입","유출": 1 1 1 1 1 1 1 1 1 1 ...
    ##  $ 구분    : chr  "봉원고가차도->독립문역" "봉원고가차도->독립문역" "봉원고가차도->독립문역" "봉원고가차도->독립문역" ...
    ##  $ 0시     : num  842 617 467 696 716 762 444 759 628 352 ...
    ##  $ 1시     : num  618 511 306 459 494 581 322 634 469 231 ...
    ##  $ 2시     : num  523 421 223 327 360 512 233 444 390 176 ...
    ##  $ 3시     : num  396 260 206 250 300 391 201 371 272 176 ...
    ##  $ 4시     : num  375 264 339 369 327 402 247 374 262 274 ...
    ##  $ 5시     : num  620 387 870 737 740 537 696 556 376 766 ...
    ##  $ 6시     : num  959 672 1987 1783 1667 ...
    ##  $ 7시     : num  1194 853 2864 2771 2682 ...
    ##  $ 8시     : num  1575 1256 2664 2601 2599 ...
    ##  $ 9시     : num  1981 1530 2400 2349 2413 ...
    ##  $ 10시    : num  2069 1699 2078 2142 2154 ...
    ##  $ 11시    : num  2168 1723 1967 2291 2144 ...
    ##  $ 12시    : num  2276 1744 1719 1978 2022 ...
    ##  $ 13시    : num  2103 1766 1851 1892 1952 ...
    ##  $ 14시    : num  2006 1739 2002 1998 2147 ...
    ##  $ 15시    : num  1967 1659 1945 2110 2085 ...
    ##  $ 16시    : num  1977 1530 1958 2164 2280 ...
    ##  $ 17시    : num  1960 1513 2184 2238 2417 ...
    ##  $ 18시    : num  1706 1348 2126 2176 2417 ...
    ##  $ 19시    : num  1227 1130 1589 1662 1949 ...
    ##  $ 20시    : num  1197 1168 1406 1412 1765 ...
    ##  $ 21시    : num  1309 1117 1439 1544 1590 ...
    ##  $ 22시    : num  1234 989 1459 1428 1517 ...
    ##  $ 23시    : num  954 708 945 1018 1075 ...

``` r
head(traffic)
```

    ## # A tibble: 6 x 30
    ##   일자       요일  지점명 지점번호 방향  구분  `0시` `1시` `2시` `3시`
    ##   <date>     <fct> <chr>  <fct>    <fct> <chr> <dbl> <dbl> <dbl> <dbl>
    ## 1 2019-06-01 토    성산로(금~ A-01     유입  봉원고가~   842   618   523   396
    ## 2 2019-06-02 일    성산로(금~ A-01     유입  봉원고가~   617   511   421   260
    ## 3 2019-06-03 월    성산로(금~ A-01     유입  봉원고가~   467   306   223   206
    ## 4 2019-06-04 화    성산로(금~ A-01     유입  봉원고가~   696   459   327   250
    ## 5 2019-06-05 수    성산로(금~ A-01     유입  봉원고가~   716   494   360   300
    ## 6 2019-06-06 목    성산로(금~ A-01     유입  봉원고가~   762   581   512   391
    ## # ... with 20 more variables: `4시` <dbl>, `5시` <dbl>, `6시` <dbl>,
    ## #   `7시` <dbl>, `8시` <dbl>, `9시` <dbl>, `10시` <dbl>, `11시` <dbl>,
    ## #   `12시` <dbl>, `13시` <dbl>, `14시` <dbl>, `15시` <dbl>, `16시` <dbl>,
    ## #   `17시` <dbl>, `18시` <dbl>, `19시` <dbl>, `20시` <dbl>, `21시` <dbl>,
    ## #   `22시` <dbl>, `23시` <dbl>

### 데이터 활용 방안

  - 지점번호별 교통량과 부동산 가격과의 상관관계
  - 유입 유출을 통한 방향 파악. 어떠한 방향으로 차들이 움직이는지. 움직이는 방향과 부동산 가격과의 상관관계

## 참고) 교통량 지점 정보

[교통량 데이터 다운 사이트](http://topis.seoul.go.kr/refRoom/openRefRoom_2_2.do){:
.btn .btn–info}

  - `교통량` 데이터 다운로드한 페이지의 검색창에 `지점 정보` 검색. 가장 최신의 교통량 지점 정보 파일 다운로드

**교통량 지점 정보 데이터 설명**

  - 파일 형식 : `.xlsx` 확장자 파일
  - 변수
      - 지점번호
      - 지점명칭
      - X좌표
      - Y좌표
      - 주소
      - 유입 링크아이디
      - 유출 링크아이디
      - 유입 방향
      - 유출 방향

<!-- end list -->

``` r
point <- read_xlsx("data/TOPIS/교통량 지점정보_2017.xlsx", col_names=TRUE, sheet=1)
point[6:7] = as.character(unlist(point[6:7])) # 변수 데이터타입 변환

str(point)
```

    ## Classes 'tbl_df', 'tbl' and 'data.frame':    145 obs. of  9 variables:
    ##  $ 지점번호      : chr  "A-01" "A-02" "A-03" "A-04" ...
    ##  $ 지점명칭      : chr  "성산로(금화터널)" "사직로(사직터널)" "자하문로(자하문터널)" "대사관로(삼청터널)" ...
    ##  $ TM X 좌표     : num  195489 196757 197217 198649 198646 ...
    ##  $ TM Y 좌표     : num  452136 452547 454351 455200 452937 ...
    ##  $ 주소          : chr  "서울시 서대문구 신촌동 1-142" "서울시 종로구 행촌동 40-20" "서울시 종로구 청운동 31-9" "서울시 성북구 성북동 330-223" ...
    ##  $ 유입링크아이디: chr  "1120006400" "1000008000" "1000019500" "1000020100" ...
    ##  $ 유출링크아이디: chr  "1120006300" "1000007900" "1000019600" "1000020200" ...
    ##  $ 유입 방향     : chr  "[성산로]봉원고가차도->독립문역" "[사직로]독립문역->사직단" "[자하문로]베네스트아파트->청운초등학교앞" "[삼청로]성북동서울아파트->삼청공원입구" ...
    ##  $ 유출방향      : chr  "[성산로]독립문역->봉원고가차도" "[사직로]사직단->독립문역" "[자하문로]청운초등학교앞->베네스트아파트" "[삼청로]삼청공원입구->성북동서울아파트" ...

``` r
head(point)
```

    ## # A tibble: 6 x 9
    ##   지점번호 지점명칭 `TM X 좌표` `TM Y 좌표` 주소  유입링크아이디
    ##   <chr>    <chr>          <dbl>       <dbl> <chr> <chr>         
    ## 1 A-01     성산로(금화터~     195489      452136  서울시 ~ 1120006400    
    ## 2 A-02     사직로(사직터~     196757.     452547. 서울시 ~ 1000008000    
    ## 3 A-03     자하문로(자하~     197217.     454351. 서울시 ~ 1000019500    
    ## 4 A-04     대사관로(삼청~     198649.     455200. 서울시 ~ 1000020100    
    ## 5 A-05     율곡로(안국역~     198646.     452937. 서울시 ~ 1000012700    
    ## 6 A-06     창경궁로(서울~     199826.     453668. 서울시 ~ 1000015500    
    ## # ... with 3 more variables: 유출링크아이디 <chr>, `유입 방향` <chr>,
    ## #   유출방향 <chr>
